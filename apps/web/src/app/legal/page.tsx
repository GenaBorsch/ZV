"use client";

import { useState } from 'react';
import Link from 'next/link';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';

export default function LegalPage() {
  return (
    <div className="min-h-screen bg-background">
      {/* Header */}
      <header className="bg-card shadow-sm border-b border-border">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex justify-between items-center h-16">
            <div className="flex items-center space-x-4">
              <h1 className="text-xl font-semibold text-foreground">
                Юридические документы
              </h1>
            </div>
            <nav className="flex space-x-4">
              <Link href="/" className="text-muted-foreground hover:text-foreground">
                На главную
              </Link>
            </nav>
          </div>
        </div>
      </header>

      {/* Main Content */}
      <main className="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
        <div className="space-y-8">
          {/* Описание */}
          <Card>
            <CardHeader>
              <CardTitle>Правовая информация</CardTitle>
            </CardHeader>
            <CardContent>
              <p className="text-muted-foreground">
                Здесь представлены все юридические документы платформы "Звёздное Веретено". 
                Пожалуйста, внимательно ознакомьтесь с условиями использования и политикой 
                обработки персональных данных.
              </p>
            </CardContent>
          </Card>

          {/* Документы в виде вкладок */}
          <Card>
            <CardContent className="p-0">
              <Tabs defaultValue="offer" className="w-full">
                <div className="p-6 pb-0">
                  <TabsList className="grid w-full grid-cols-2">
                    <TabsTrigger value="offer">Публичная оферта</TabsTrigger>
                    <TabsTrigger value="privacy">Политика конфиденциальности</TabsTrigger>
                  </TabsList>
                </div>
                
                <TabsContent value="offer" className="p-6 mt-4">
                  <div className="prose prose-sm max-w-none text-foreground">
                    <div className="legal-document">
                      <p><strong>ПУБЛИЧНАЯ ОФЕРТА НА ЗАКЛЮЧЕНИЕ ДОГОВОРА ОБ ОКАЗАНИИ ИНФОРМАЦИОННО-ТЕХНИЧЕСКИХ УСЛУГ ДЛЯ ИГРОКОВ</strong><br/>
                      Редакция от 22 сентября 2025 г.<br/>
                      Индивидуальный предприниматель Рудык Леонид Андреевич, ИНН 772078470707, ОГРНИП 318774600640774, адрес: город Москва (Инспекция ФНС России № 20 по г. Москве), именуемый в дальнейшем "Оператор", предлагает любому дееспособному физическому лицу, именуемому в дальнейшем "Пользователь" (или "Игрок"), заключить договор на оказание информационно-технических услуг по предоставлению доступа к онлайн-платформе "Звёздное Веретено" (далее — "Договор") на условиях, изложенных в настоящей публичной оферте (далее — "Оферта").</p>

                      <p>В соответствии со ст. 437 Гражданского кодекса РФ, настоящая Оферта является публичным предложением. Акцепт (принятие) Оферты осуществляется путём совершения Пользователем конклюдентных действий: регистрации на сайте lk.zvezdnoe-vereteno.ru, оплаты услуг или использования платформы. Акцепт Оферты означает полное и безоговорочное принятие всех её условий.</p>

                      <h4 className="text-lg font-semibold mt-6 mb-3">1. Общие положения</h4>
                      <p><b>1.1.</b> <strong>Предмет Договора</strong>: Оператор предоставляет Пользователю исключительно информационно-технические услуги в виде доступа к онлайн-платформе "Звёздное Веретено" (далее — "Платформа"), функционирующей как цифровой инструмент для самостоятельного участия и проведения настольно-ролевых игр (НРИ). Платформа обеспечивает следующие услуги:</p>

                      <ul className="list-disc pl-6 space-y-2">
                        <li><strong>Доступ к личному кабинету</strong>: регистрация, авторизация, управление профилем</li>
                        <li><strong>Поиск игровых групп</strong>: фильтрация по формату, сезону, статусу набора; просмотр деталей групп.</li>
                        <li><strong>Присоединение к группам</strong>: подача заявок с сообщениями мастеру, присоединение по реферальным ссылкам, отслеживание статуса заявок, выход из групп.</li>
                        <li><strong>Управление персонажами</strong>: создание, редактирование, загрузка аватаров и листов персонажей (PDF).</li>
                        <li><strong>Просмотр истории участия</strong>: доступ к отчётам о сессиях, статусам списаний пропусков.</li>
                        <li><strong>Покупка путёвок</strong>: приобретение предоплаченных пропусков для бронирования сессий.</li>
                        <li><strong>Уведомления</strong>: получение сообщений о заявках, отчётах, списаниях через интерфейс.</li>
                      </ul>

                      <p>Платформа выступает в роли технического посредника, обеспечивающего матчинг (сопоставление) Игроков с независимыми мастерами, не состоящими в трудовых или иных отношениях с Оператором. Оператор не организует, не проводит и не контролирует сессии НРИ, не несёт ответственности за действия, бездействие или решения мастеров (включая отмену, перенос, некачественное проведение сессий или их отсутствие), а также за любые убытки, связанные с ними. Услуги Оператора ограничиваются предоставлением интерфейса для обмена информацией, бронирования и обработки платежей, без вмешательства в содержание игр.</p>

                      <p><b>1.2.</b> Услуги оказываются в соответствии с Федеральным законом № 2300-1 "О защите прав потребителей", № 152-ФЗ "О персональных данных" и № 161-ФЗ "О национальной платежной системе".</p>

                      <p><b>1.3.</b> Оферта размещена на сайте lk.zvezdnoe-vereteno.ru/legal и может быть изменена Оператором в одностороннем порядке. Новая редакция вступает в силу с момента публикации.</p>

                      <h4 className="text-lg font-semibold mt-6 mb-3">2. Права и обязанности сторон</h4>
                      <p><b>2.1.</b> <strong>Оператор обязуется</strong>:</p>
                      <ul className="list-disc pl-6 space-y-2">
                        <li>Обеспечить технический доступ к Платформе в рамках оплаченных услуг или бесплатного функционала.</li>
                        <li>Обработать платежи и уведомления.</li>
                        <li>Информировать о технических изменениях в работе Платформы.</li>
                      </ul>

                      <p>Оператор не гарантирует доступность мастеров, проведение сессий или их соответствие ожиданиям Пользователя, но обязуется предпринять все возможные организационные усилия для обеспечения качественного проведения игры, при необходимости связываясь с мастерами и клубами.</p>

                      <p><b>2.2.</b> <strong>Пользователь обязуется</strong>:</p>
                      <ul className="list-disc pl-6 space-y-2">
                        <li>Предоставлять достоверные данные при регистрации и создании профиля.</li>
                        <li>Уведомлять мастера или Оператора о невозможности участия в забронированной сессии не менее чем за 24 часа до её начала.</li>
                        <li>Не использовать Платформу для незаконных целей (спам, нарушение прав третьих лиц, хакерские атаки).</li>
                      </ul>

                      <p><b>2.3.</b> <strong>Запрещено</strong>:</p>
                      <ul className="list-disc pl-6 space-y-2">
                        <li>Копировать контент Платформы без письменного согласия Оператора.</li>
                        <li>Распространять вредоносное ПО.</li>
                        <li>Пытаться обойти правила списания баттлпассов или возвратов.</li>
                      </ul>

                      <h4 className="text-lg font-semibold mt-6 mb-3">3. Обработка персональных данных</h4>
                      <p>Интегрированная политика обработки персональных данных в соответствии с Федеральным законом № 152-ФЗ. Полный текст политики доступен во вкладке "Политика конфиденциальности". Акцепт Оферты означает согласие на обработку данных.</p>

                      <h4 className="text-lg font-semibold mt-6 mb-3">4. Приём платежей, оплата, политика возвратов и списаний</h4>
                      <p><b>4.1.</b> <strong>Оплата</strong>: производится в рублях РФ через банковские карты или Систему быстрых платежей (СБП) с использованием сервиса YooKassa.</p>

                      <p><b>4.2.</b> <strong>Цены</strong>: указаны на сайте lk.zvezdnoe-vereteno.ru. Комиссии за оплату отсутствуют. Цены не включают оплату стоимости игры у мастера, она оплачивается отдельно и индивидуально.</p>

                      <p><b>4.3.</b> <strong>Политика возвратов</strong>: Средства, уплаченные за путёвки, возврату не подлежат, так как путёвка является предоплаченным цифровым продуктом, активируемым немедленно после покупки.</p>

                      <h4 className="text-lg font-semibold mt-6 mb-3">5. Ответственность и разрешение споров</h4>
                      <p><b>5.1.</b> Оператор не несёт ответственности за действия, бездействие или решения мастеров, так как мастера являются независимыми контрагентами.</p>

                      <p><b>5.2.</b> Применимое право: законодательство Российской Федерации. Споры разрешаются в суде по месту нахождения Оператора (город Москва).</p>

                      <h4 className="text-lg font-semibold mt-6 mb-3">6. Заключительные положения</h4>
                      <p><b>6.1.</b> Договор действует с момента акцепта до расторжения.</p>
                      <p><b>6.2.</b> Контакты для связи: tech@zvezdnoe-vereteno.ru.</p>
                      <p><b>6.3.</b> <strong>Реквизиты Оператора</strong>:<br/>
                      Индивидуальный предприниматель Рудык Леонид Андреевич<br/>
                      ИНН: 772078470707<br/>
                      ОГРНИП: 318774600640774<br/>
                      Дата регистрации: 23.11.2018<br/>
                      Регистратор: Межрайонная инспекция ФНС № 46 по г. Москве<br/>
                      Налоговый орган: Инспекция ФНС № 20 по г. Москве</p>
                    </div>
                  </div>
                </TabsContent>

                <TabsContent value="privacy" className="p-6 mt-4">
                  <div className="prose prose-sm max-w-none text-foreground">
                    <div className="legal-document">
                      <h1 className="text-2xl font-bold mb-4">Политика обработки персональных данных "Звёздное Веретено"</h1>
                      <p><strong>Дата последнего обновления:</strong> 23 сентября 2025</p>

                      <h2 className="text-xl font-semibold mt-6 mb-3">1. Общие положения</h2>
                      <p>Настоящая Политика обработки персональных данных (далее — Политика) разработана для платформы "Звёздное Веретено" (далее — Платформа), доступной по адресу lk.zvezdnoe-vereteno.ru. Политика регулирует порядок сбора, обработки, хранения и защиты персональных данных пользователей. Платформа предназначена для организации и проведения настольных ролевых игр (НРИ), предоставляя личные кабинеты для игроков, мастеров и администраторов.</p>

                      <p>Оператором персональных данных является Индивидуальный предприниматель Рудык Леонид Андреевич (ИНН: 772078470707, ОГРНИП: 318774600640774, адрес: город Москва), далее — Оператор.</p>

                      <p>Политика разработана в соответствии с Федеральным законом РФ №152-ФЗ "О персональных данных" и, при необходимости, Общим регламентом по защите данных (GDPR) для пользователей из Европейского Союза.</p>

                      <h2 className="text-xl font-semibold mt-6 mb-3">2. Цели обработки персональных данных</h2>
                      <p>Персональные данные пользователей обрабатываются для:</p>
                      <ul className="list-disc pl-6 space-y-2">
                        <li>Регистрации и предоставления доступа к личным кабинетам.</li>
                        <li>Организации игровых групп, сессий и отчетов.</li>
                        <li>Обеспечения связи между игроками, мастерами и администрацией.</li>
                        <li>Обработки платежей за игровые пропуска (баттлпассы).</li>
                        <li>Персонализации профилей и уведомлений.</li>
                        <li>Обеспечения безопасности Платформы.</li>
                      </ul>

                      <h2 className="text-xl font-semibold mt-6 mb-3">3. Категории собираемых данных</h2>
                      <p>Платформа собирает следующие данные:</p>

                      <h3 className="text-lg font-semibold mt-4 mb-2">3.1. Данные, предоставляемые пользователем</h3>
                      <ul className="list-disc pl-6 space-y-2">
                        <li><strong>Обязательные данные</strong> (при регистрации):
                          <ul className="list-disc pl-6 mt-2">
                            <li>Электронная почта (email).</li>
                          </ul>
                        </li>
                        <li><strong>Необязательные данные</strong> (заполняются в профиле):
                          <ul className="list-disc pl-6 mt-2">
                            <li>Имя (как к вам обращаться).</li>
                            <li>Аватар (ссылка на изображение).</li>
                            <li>О себе (краткое описание, до 500 символов).</li>
                            <li>Опыт в НРИ (Новичок, Средний, Ветеран).</li>
                            <li>Контакты (телефон, страница ВКонтакте или мессенджеры).</li>
                          </ul>
                        </li>
                      </ul>

                      <h3 className="text-lg font-semibold mt-4 mb-2">3.2. Автоматически собираемые данные</h3>
                      <ul className="list-disc pl-6 space-y-2">
                        <li>IP-адрес и данные об устройстве.</li>
                        <li>История действий (создание групп, подача заявок, отправка отчетов).</li>
                        <li>Данные о платежах (сумма, идентификатор заказа).</li>
                      </ul>

                      <h2 className="text-xl font-semibold mt-6 mb-3">4. Правовые основания обработки</h2>
                      <p>Обработка данных осуществляется на основании:</p>
                      <ul className="list-disc pl-6 space-y-2">
                        <li>Согласия пользователя, предоставленного при регистрации.</li>
                        <li>Необходимости исполнения договора (предоставление услуг Платформы).</li>
                        <li>Законных интересов Оператора (безопасность, улучшение сервиса).</li>
                        <li>Соблюдения законодательства (например, ФЗ-152).</li>
                      </ul>

                      <h2 className="text-xl font-semibold mt-6 mb-3">5. Права пользователей</h2>
                      <p>Пользователи имеют право:</p>
                      <ul className="list-disc pl-6 space-y-2">
                        <li>Запросить доступ к своим данным (через личный кабинет или обращение к Оператору).</li>
                        <li>Редактировать данные в профиле (lk.zvezdnoe-vereteno.ru/profile).</li>
                        <li>Запросить удаление аккаунта (через обращение к Оператору).</li>
                        <li>Ограничить обработку данных (через обращение).</li>
                        <li>Получить данные в структурированном формате (по запросу).</li>
                        <li>Отозвать согласие на обработку (через удаление аккаунта).</li>
                      </ul>
                      <p>Для реализации прав направьте запрос на email: support@zvezdnoe-vereteno.ru.</p>

                      <h2 className="text-xl font-semibold mt-6 mb-3">6. Меры безопасности</h2>
                      <p>Оператор применяет меры для защиты данных:</p>
                      <ul className="list-disc pl-6 space-y-2">
                        <li>Шифрование данных при передаче и хранении.</li>
                        <li>Ограничение доступа к данным только для авторизованных пользователей.</li>
                        <li>Проверка прав доступа для разных ролей (игроки, мастера, администраторы).</li>
                        <li>Защита от несанкционированного доступа и вредоносных файлов.</li>
                      </ul>

                      <h2 className="text-xl font-semibold mt-6 mb-3">7. Передача данных третьим лицам</h2>
                      <p>Данные могут передаваться:</p>
                      <ul className="list-disc pl-6 space-y-2">
                        <li>Платежной системе для обработки транзакций (в зашифрованном виде).</li>
                        <li>Мастерам и игрокам в рамках игрового процесса (имя, никнейм, контакты, описание).</li>
                        <li>Хостинг-провайдерам для обеспечения работы Платформы.</li>
                      </ul>
                      <p>Данные не передаются в маркетинговых целях без согласия пользователя.</p>

                      <h2 className="text-xl font-semibold mt-6 mb-3">8. Сроки хранения данных</h2>
                      <ul className="list-disc pl-6 space-y-2">
                        <li>Персональные данные хранятся до удаления аккаунта или по запросу пользователя.</li>
                        <li>Данные о платежах хранятся в соответствии с законодательством (обычно 3 года).</li>
                        <li>Технические данные (логи активности) хранятся до 1 года.</li>
                      </ul>

                      <h2 className="text-xl font-semibold mt-6 mb-3">9. Обновления Политики</h2>
                      <p>Оператор может обновлять Политику. Пользователи будут уведомлены через интерфейс Платформы или по email. Актуальная версия доступна по адресу lk.zvezdnoe-vereteno.ru/legal.</p>

                      <h2 className="text-xl font-semibold mt-6 mb-3">10. Контакты</h2>
                      <p>По вопросам обработки персональных данных:</p>
                      <ul className="list-disc pl-6 space-y-2">
                        <li><strong>Email</strong>: support@zvezdnoe-vereteno.ru</li>
                        <li><strong>Адрес</strong>: город Москва</li>
                        <li><strong>Срок ответа</strong>: до 30 дней с момента получения запроса.</li>
                      </ul>

                      <h2 className="text-xl font-semibold mt-6 mb-3">11. Ответственность</h2>
                      <p>Оператор не несет ответственности за:</p>
                      <ul className="list-disc pl-6 space-y-2">
                        <li>Неправомерное использование данных третьими лицами, если это произошло не по вине Оператора.</li>
                        <li>Предоставление пользователем некорректных данных.</li>
                        <li>Ограничения функциональности из-за отключения технических средств (например, cookies).</li>
                      </ul>
                    </div>
                  </div>
                </TabsContent>
              </Tabs>
            </CardContent>
          </Card>
        </div>
      </main>
    </div>
  );
}
